<!DOCTYPE HTML>
<html lang="zh-CN">
    <head>
    <meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>æäºŒå…ˆç”Ÿ</title>
<meta name="description" content="æäºŒå…ˆç”Ÿçš„ä¸ªåšå®¢ï¼Œæ¬¢è¿å…‰ä¸´" />
<meta name="google-site-verification" content="FHNMdYV7a7Bw4HNt-vm0Cto8QvAW1Vx_rTrhMgxLg44" />
<link rel="shortcut icon" href="https://willisfusu.github.io/favicon.ico?v=1610655376390">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@300;400;700&family=Ubuntu:ital,wght@0,300;0,400;0,700;1,400&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css">
<script src='https://willisfusu.github.io/media/Valine.min.js'></script>
<link rel="stylesheet" href="https://willisfusu.github.io/styles/main.css">
<link rel="alternate" type="application/atom+xml" title="æäºŒå…ˆç”Ÿ - Atom Feed" href="https://willisfusu.github.io/atom.xml">
<script src="https://cdn.jsdelivr.net/npm/jquery@3.4.1/dist/jquery.min.js"></script>

    </head>
    <body>
    <div id="read-progress"></div>
<div class="fixed-top">
    <nav class="navbar fixed-top navbar-expand-lg navbar-dark bg-dark">
       <a class="navbar-brand" href="https://willisfusu.github.io">æäºŒå…ˆç”Ÿ</a>
       <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
       </button>
       <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav mr-auto"></ul>
            <ul class="navbar-nav">
                <li class="nav-item">
                    <a class="nav-link" href="https://willisfusu.github.io/archives">ã€Œå…¨éƒ¨æ–‡ç« ã€</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="https://willisfusu.github.io/tag/will-tech">æŠ€æœ¯</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="https://willisfusu.github.io/tag/will-thinking">æƒ³æ³•</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="https://willisfusu.github.io/tag/will-life">ç”Ÿæ´»</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="">å…³äº</a>
                </li>
            </ul>
       </div>
    </nav>
</div>

        <div class="container col-10" id="main" role="main">
            <div class="row">
                <div class="col-12 col-lg-8">
                    <article class="post">
                        <h1>
                            <a itemprop="url" class="post-title" href="https://willisfusu.github.io/post/python-wordcloud-2/">Pythonè·å–æ­Œè¯ã€åˆ†è¯åŠè¯äº‘ç»˜åˆ¶ï¼ˆäºŒï¼‰</a>
                        </h1>
                        <p id="post-meta">
                            <i class="fa fa-clock-o"></i>2020-03-08 |
                            <i class="fa fa-tags"></i>
                                <a href="https://willisfusu.github.io/tag/will-tech/">æŠ€æœ¯</a>
                                
                                <a href="https://willisfusu.github.io/tag/jJ_HdEonj/">Python</a>
                                |
                            <i class="fa fa-book-reader"></i>4 min read
                        </p>
                        
                        
                            <blockquote class="fa fa-exclamation-triangle warning">
                                æ­¤æ–‡ç« å‘è¡¨äº<strong><span style="color:#f75357">
                                        312</span></strong> å¤©å‰ï¼Œè¯·æ³¨æ„æ–‡ç« æ—¶æ•ˆ
                            </blockquote>
                            
                        <div class="post-content" itemprop="articleBody">
                            <p>ä¸Šä¸€ç¯‡ä¸­å®Œæˆäº†å¯¹æ­Œè¯çš„ä¸‹è½½åŠå­˜å‚¨å°±ç­‰ç€è¿™æ¬¡çš„æ­Œè¯åˆ†è¯ã€æ¸…æ´—å¤„ç†ã€‚</p>
<h2 id="ç®€æ˜“è¿‡ç¨‹">ç®€æ˜“è¿‡ç¨‹</h2>
<ol>
<li>è¯»å…¥æ­Œè¯</li>
<li>åˆ†è¯ã€æ¸…æ´—å»æ‰åœç”¨è¯</li>
<li>ç»˜åˆ¶è¯äº‘</li>
</ol>
<!-- more -->
<h2 id="è¯»å…¥æ­Œè¯-åˆ†è¯">è¯»å…¥æ­Œè¯ã€åˆ†è¯</h2>
<p>è¯»å…¥æ­Œè¯éå¸¸ç®€å•ï¼Œåœ¨è¿™ä¸€æ­¥éª¤æ—¶ä½¿ç”¨äº†<code>codecs</code>é˜²æ­¢å‡ºç°ç¼–ç é—®é¢˜ã€‚å¾—åˆ°äº†æ­Œè¯ä¹‹åå°±è¿›è¡Œåˆ†è¯å¤„ç†ï¼Œé‡‡ç”¨ç»“å·´åˆ†è¯ï¼Œå¹¶ä¸”è¯»å…¥åœç”¨è¯è¡¨ã€‚</p>
<pre><code class="language-python">    lyrc_from_file = text
    word_split = jieba.cut(lyrc_from_file, cut_all=False)
    # åˆ†è¯çš„ç»“æœä¸æ˜¯åˆ—è¡¨
    jdr = '/'.join(word_split)
    stop_words_file = 'stopwords.txt'
    stop_words = codecs.open(stop_words_file, &quot;r&quot;, encoding='utf-8').read()
    stop_words_list = stop_words.split(&quot;\n&quot;)
</code></pre>
<p>ä½†æ˜¯å¾ˆå¿«å°±å‘ç°äº†å¦ä¸€ä¸ªé—®é¢˜ï¼Œé‚£æ˜¯å°±ç½‘ä¸Šä¸‹è½½çš„åœç”¨è¯è¡¨ä¸èƒ½å°†æ­Œè¯ä¸­æ— æ„ä¹‰çš„è¯ç»™ä¸€ç½‘æ‰“å°½ï¼Œæ¯”å¦‚â€œç¼–æ›²â€ã€â€œä½œè¯â€ã€â€œæ··éŸ³â€ä¹‹ç±»çš„ã€‚æ‰€ä»¥é‡‡ç”¨è‡ªå®šä¹‰åœç”¨è¯ï¼Œä½†æ˜¯åœ¨è¿™é‡Œæˆ‘å´é‡åˆ°äº†ä¸€ä¸ªé—®é¢˜ï¼šè‡ªå·±åˆ›å»ºçš„åœç”¨è¯æ–‡ä»¶è¯»å…¥ä¹‹åï¼Œä¸èƒ½å»é™¤æ­Œè¯ä¸­çš„åœç”¨è¯ã€‚</p>
<pre><code class="language-python">    my_stop_words =codecs.open('mystopwords.txt','r',encoding='utf-8').read()
    my_stop_words_list=my_stop_words.split('\n')
</code></pre>
<p>è€ƒè™‘äº†å¥½ä¹…ï¼Œä¸€ç›´ä¹Ÿæ²¡æœ‰å‘ç°é—®é¢˜åœ¨å“ªé‡Œã€‚åœ¨è¿™ä¸ªé—®é¢˜ä¸Šï¼Œæäº†å¾ˆé•¿æ—¶é—´ï¼Œæœ€åæ‰å‘ç°é—®é¢˜æ‰€åœ¨ï¼š<strong>è‡ªå·±åˆ›å»ºçš„txtæ–‡ä»¶ä¸­çš„æ‰‹åŠ¨æ¢è¡Œå¹¶ä¸æ˜¯\nè€Œæ˜¯\r\n</strong> å®Œæ•´çš„ä»£ç æ˜¯è¿™æ ·çš„ï¼š</p>
<pre><code class="language-python">def split_text(text):
    lyrc_from_file = text
    word_split = jieba.cut(lyrc_from_file, cut_all=False)
    # åˆ†è¯çš„ç»“æœä¸æ˜¯åˆ—è¡¨
    jdr = '/'.join(word_split)
    stop_words_file = 'stopwords.txt'
    stop_words = codecs.open(stop_words_file, &quot;r&quot;, encoding='utf-8').read()
    stop_words_list = stop_words.split(&quot;\n&quot;)
    my_stop_words =codecs.open('mystopwords.txt','r',encoding='utf-8').read()
    my_stop_words_list=my_stop_words.split('\r\n')
    #æ³¨æ„è‡ªå·±å†™çš„ä¸­å›è½¦å¤„ç†ä¸åŒ
    stop_words_list.extend(my_stop_words_list)
    lyrc_list = []
    for abt in jdr.split('/'):
        if not (abt.strip() in stop_words_list):
            lyrc_list.append(abt)
    return lyrc_list
</code></pre>
<h2 id="ç»˜è¯äº‘">ç»˜è¯äº‘</h2>
<p>åœ¨ç»˜åˆ¶è¯äº‘çš„æ—¶å€™ä¹Ÿé‡åˆ°ä¸€ä¸ªå¾ˆå¥‡æ€ªçš„é—®é¢˜ï¼šåœ¨ç»™è¯äº‘ä¸Šè‰²çš„æ—¶å€™ä½¿ç”¨<code>recolor</code>å‡½æ•°ï¼Œå¦‚æœåœ¨å‚æ•°ä¸­ä¸å£°æ˜color_funcå‚æ•°åï¼Œåˆ™ä¼šæŠ¥é”™ã€‚æ‰€ä»¥åœ¨ä½¿ç”¨è¿™ä¸ªå‡½æ•°çš„æ—¶å€™ï¼Œä¸€å®šè¦æŒ‡æ˜color_funcã€‚<br>
å¦å¤–è¿˜æœ‰ä¸€ä¸ªæœ‰æ„æ€çš„é—®é¢˜ï¼Œé‚£å°±æ˜¯ä½¿ç”¨generate from text ä¸ä¼šåŒ…å«å•ä¸ªå­—æ¯ï¼Œå¯¹åº”åˆ°ä¸­æ–‡ä¸­åˆ™ä¸åŒ…å«ä¸€ä¸ªå­—ã€‚è¿™å…¶å®æ˜¯å› ä¸ºwordcloudæ˜¯ä¸ºäº†è‹±æ–‡è®¾è®¡çš„ï¼Œæ‰€ä»¥ä¼šæœ‰è¿™ä¸ªé—®é¢˜ã€‚ä¸ºäº†é˜²æ­¢è¯äº‘ç»˜åˆ¶å¤±çœŸï¼Œå¯ä»¥ä½¿ç”¨generate from frequenciesã€‚ åœ¨ä½¿ç”¨è¿™ä¸ªå‡½æ•°çš„æ—¶å€™ï¼Œéœ€è¦æ³¨æ„ä¸€ç‚¹ï¼Œè™½ç„¶wordcloudè¯´æ˜ä¸­generate from frequenciesçš„å‚æ•°æ˜¯turtle,ä½†æ˜¯ä½¿ç”¨turtleåˆ™ä¼šæŠ¥é”™ï¼Œ<strong>å®é™…ä¸Šçš„å‚æ•°ç±»å‹æ˜¯dict</strong>(çœŸæ˜¯å‘å‘€ï¼ï¼)<br>
è¯äº‘éƒ¨åˆ†çš„ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="language-python">def draw_word_cloud(text, pic):
    font = &quot;HYJiaGuoSongW.ttf&quot; #When drawing chinese wordcloud, the font must be used, otherwise, it will not display chinese characters.
    mask_image_path = pic
    mask_image = np.array(Image.open(mask_image_path))
    word_cloud_color1 = ImageColorGenerator(mask_image)
    wcp = WordCloud(
        font_path=font,
        background_color=&quot;white&quot;,
        max_words=600,
        mask=mask_image,  # è®¾ç½®èƒŒæ™¯å›¾ç‰‡
        max_font_size=100,  # å­—ä½“æœ€å¤§å€¼
        random_state=42,
        width=1200,
        height=900,
        margin=2,
    )
    # wcp.generate(text)
    wcp.generate_from_frequencies(text)
    #fre required dit not turtle
    #and default generate(text) will not include single word(one chinese word or one english letter)
    wcr = wcp.recolor(color_func=word_cloud_color1)
    # æ­¤å¤–å¦‚æœä¸æ˜¯è¿™æ ·å°±ä¼šæŠ¥é”™
    plt.rcParams['savefig.dpi'] = 300
    plt.imshow(wcr)
    plt.axis('off')
    plt.savefig('word_cloud_result.png')
    plt.show()
</code></pre>
<p>æ—¢ç„¶éœ€è¦ä½¿ç”¨è¯é¢‘æ¥ç»˜åˆ¶è¯äº‘ï¼Œé‚£å¦‚ä½•å¾—åˆ°è¯é¢‘å‘¢ï¼Ÿ ä½¿ç”¨counterå¯¹è±¡ï¼Œå¯ä»¥æ–¹ä¾¿çš„å¾—åˆ°è¯é¢‘ã€‚ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="language-python">def get_word_fre(wordlist):
    seg_list = wordlist
    c = Counter()
    for x in seg_list:
        c[x] += 1
    word_fre={}
    for(k,v)in c.most_common(600):
        word_fre[k]=int(v)
    return word_fre
</code></pre>
<h2 id="ç»“æœ">ç»“æœ</h2>
<p><img src="https://raw.githubusercontent.com/willisfusu/piconly/master/image/20200309151302.png" alt="" loading="lazy"><br>
å…¶å®ä»è¯é¢‘ä¸­æˆ‘ä»¬çœ‹åˆ°ä¸€ä¸ªå¾ˆæœ‰æ„æ€çš„ç°è±¡ï¼š<br>
å”±æƒ…æ­Œçš„äººï¼Œæ›´å–œæ¬¢è¯´ï¼Œè€Œä¸æ˜¯å”±ã€‚å“ˆå“ˆå“ˆå“ˆå“ˆå“ˆ</p>

                        </div>
                         <blockquote>
                             <p>æœ¬æ–‡é“¾æ¥ï¼š<a style="text-decoration: underline" href="https://willisfusu.github.io/post/python-wordcloud-2/">https://willisfusu.github.io/post/python-wordcloud-2/</a></p>
                             <p>æ­¤æ–‡ç« ç”±<a style="text-decoration: underline" href="https://willisfusu.github.io/">æäºŒå…ˆç”Ÿ</a>é‡‡ç”¨<a style="text-decoration: underline" href="https://creativecommons.org/licenses/by-sa/4.0/">çŸ¥è¯†å…±äº«ç½²å-ç›¸åŒæ–¹å¼å…±äº« 4.0 å›½é™…è®¸å¯åè®®</a>è¿›è¡Œè®¸å¯,è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚
                             </p>
                         </blockquote>
                    </article>
                    <ul class="post-near">
                        
                        <li>ä¸Šä¸€ç¯‡<a href="https://willisfusu.github.io/post/python-wordcloud/">Pythonè·å–æ­Œè¯ã€åˆ†è¯åŠè¯äº‘ç»˜åˆ¶ï¼ˆä¸€ï¼‰</a> </li>
                        
                        
                        <li>ä¸Šä¸€ç¯‡<a href="https://willisfusu.github.io/post/python-matplotlib-1/">Python-Matplotlibä½œå›¾åŸºæœ¬å­¦ä¹ ï¼ˆ1ï¼‰</a> </li>
                        
                    </ul>
                    <div id="vcomments"></div>
                        <script>
                            new Valine({
                            el: '#vcomments',
                            appId: '62yofvjrBSK8xn2MoylBkRUJ-MdYXbMMI',
                            appKey: 'cfVwB8TO3A8o6l4Uo1h6OR9M',
                            avatar:"retro"
                        })
                        </script>
                </div>
                <div class="col-12 col-lg-4" id="secondary" role="complementary">
    <div class="card">
        <div class="card-header">
            <div class="widget-title">ğŸš€å…³äºæäºŒå…ˆç”Ÿ</div>
        </div>
        <div class="card-body">
            <section class="tagline">
    Hey There, I'm <view class="under"><text class="textCon">WEI LI,</text><text class="borderText-lg"></text></view>
</section><br/>
<section class="desc">based in Manchester, UK.</section><br/>
<section class="tagline">A PhD Student in Materials</section>
<section class="desc">Focus on <view class="under"><text class="textCon">Graphene and Ceramic</text><text class="borderText-sm"></text> Composites.</view></section><br/>
<section class="tagline">And know a little about coding.</section>
<section class="desc">Maybe Just A Learner ğŸ‰ğŸ¤£</section>
        </div>
    </div>
    <div class="card" id="tag-card">
        <div class="card-header">
            <div class="widget-title">ğŸ·ï¸æ ‡ç­¾</div>
        </div>
        <div class="card-body">
            <div class="toc-container">
                <p style="margin-bottom: .5rem;">å¾…æ–½å·¥â€¦â€¦</p>
            </div>
        </div>
    </div>
    <div class="card" id="toc-card">
        <div class="card-header">
            <div class="widget-title">ğŸ“’ç›®å½•</div>
        </div>
        <div class="card-body">
                <ul class="markdownIt-TOC">
<li>
<ul>
<li><a href="#%E7%AE%80%E6%98%93%E8%BF%87%E7%A8%8B">ç®€æ˜“è¿‡ç¨‹</a></li>
<li><a href="#%E8%AF%BB%E5%85%A5%E6%AD%8C%E8%AF%8D-%E5%88%86%E8%AF%8D">è¯»å…¥æ­Œè¯ã€åˆ†è¯</a></li>
<li><a href="#%E7%BB%98%E8%AF%8D%E4%BA%91">ç»˜è¯äº‘</a></li>
<li><a href="#%E7%BB%93%E6%9E%9C">ç»“æœ</a></li>
</ul>
</li>
</ul>

        </div>
    </div>
</div>

            </div>
        </div>
        <footer class="footer bottom" role="contentinfo">
    <a class="turn-up" href="#"><i class="fa fa-rocket"></i></a>
    <div id="dark-mode">
        <i class="fa fa-moon-o"></i>
    </div>
    Theme <a href="https://github.com/willisfusu/gridea-theme-SSRUI">SSRUI</a> made with <i class="fa fa-heart"></i> by <a href="https://willisfusu.github.io/">Wei LI</a>, modified from ğŸ€<a href="https://github.com/idealclover/Clover">Clover</a>ğŸ€.<br/>
    Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a>.<br />
    &copy; 2021 <a href="https://willisfusu.github.io">æäºŒå…ˆç”Ÿ</a>.
    <div id="span_dt_dt"></div>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.15.0/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js"></script>
    <script src="https://willisfusu.github.io/media/mouse-click.js"></script>
    <script src="https://willisfusu.github.io/media/pace.min.js"></script>
    <script src="https://willisfusu.github.io/media/prism.js"></script>
    <script src="https://willisfusu.github.io/media/main_function.js"></script>
</footer>
    </body>
</html>
